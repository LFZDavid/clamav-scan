# =============================================================================
# CONFIGURATION CLAMAV SCANNER - TEMPLATE
# =============================================================================
# Copier ce fichier vers .env et adapter selon vos besoins
# 
# IMPORTANT: Ne jamais commiter le fichier .env dans git !
# 
# Usage:
#   cp .env.example .env
#   nano .env  # Adapter selon votre environnement
#
# =============================================================================

# CONFIGURATION GÉNÉRALE
# =============================================================================
SCAN_DIR=/data
QUARANTINE_DIR=/var/clamav/quarantine
LOG_DIR=/var/log/clamav
SIGNATURES_DIR=/var/lib/clamav

# AGENTS CONFIGURATION
# =============================================================================

# ConfigAgent - Validation et prérequis
CONFIG_AGENT_LOG_LEVEL=INFO                    # DEBUG, INFO, WARN, ERROR
CONFIG_AGENT_VERBOSE=false                     # Logs détaillés

# SignatureAgent - Mise à jour des signatures
SIGNATURE_AGENT_UPDATE_FREQUENCY=daily         # daily, weekly, manual
SIGNATURE_AGENT_AUTO_UPDATE=true               # Mise à jour automatique au démarrage
SIGNATURE_AGENT_MIRROR=db.local.clamav.net     # Serveur de signatures

# DockerAgent - Gestion des containers
DOCKER_AGENT_CLEANUP_POLICY=auto               # auto, manual, aggressive
DOCKER_IMAGE=clamav/clamav:latest               # Image Docker à utiliser
CONTAINER_NAME=clamav-scanner                   # Nom du container
DOCKER_PULL_POLICY=missing                     # always, missing, never

# ScannerAgent - Configuration du scan
SCANNER_AGENT_DEFAULT_MODE=standard             # standard, full, quick
MAX_FILE_SIZE=100M                              # Taille max d'un fichier
MAX_SCAN_SIZE=500M                              # Taille max totale du scan
SCAN_TIMEOUT=3600                               # Timeout en secondes (1h)

# QuarantineAgent - Gestion des fichiers infectés
QUARANTINE_AGENT_ACTION=quarantine              # quarantine, remove, copy
QUARANTINE_AGENT_RETENTION_DAYS=7               # Rétention en jours (0 = infini)
QUARANTINE_AGENT_AUTO_CLEANUP=true              # Nettoyage automatique

# ReportAgent - Génération des rapports
REPORT_AGENT_FORMAT=text                        # text, json, html
REPORT_AGENT_DETAILED=true                      # Rapport détaillé
REPORT_AGENT_SAVE_HISTORY=true                  # Sauvegarder l'historique

# NotificationAgent - Alertes et notifications
NOTIFICATION_AGENT_ENABLED=false                # Activer les notifications
EMAIL_ENABLED=false                             # Notifications email
EMAIL_TO=admin@example.com                      # Destinataire
EMAIL_FROM=clamav-scanner@localhost             # Expéditeur
EMAIL_SUBJECT_PREFIX=[ClamAV]                   # Préfixe du sujet

# LIMITES ET PERFORMANCE
# =============================================================================
SCAN_MAX_THREADS=2                              # Threads parallèles
SCAN_MAX_RECURSION=16                           # Profondeur récursion
SCAN_MAX_FILES=10000                            # Nombre max de fichiers

# EXCLUSIONS
# =============================================================================
# Patterns séparés par des pipes |
EXCLUDE_DIRS=^/proc|^/sys|^/dev|^/tmp|\.git     # Répertoires à exclure
EXCLUDE_FILES=\.tmp$|\.log$|\.cache$            # Fichiers à exclure
EXCLUDE_EXTENSIONS=tmp|log|cache|swp|swo        # Extensions à exclure

# SCAN AVANCÉ (mode complet)
# =============================================================================
SCAN_ARCHIVES=true                              # Scanner les archives
SCAN_MAIL=true                                  # Scanner les emails
SCAN_PDF=true                                   # Scanner les PDF
SCAN_HTML=true                                  # Scanner le HTML
SCAN_OFFICE=true                                # Scanner les docs Office
SCAN_ENCRYPTED_ARCHIVES=false                   # Alerter sur archives chiffrées

# SÉCURITÉ
# =============================================================================
ALLOW_ROOT=false                                # Autoriser l'exécution en root
STRICT_PERMISSIONS=true                         # Vérifications strictes des permissions
SECURE_TEMP=true                                # Répertoires temporaires sécurisés

# DÉVELOPPEMENT ET DEBUG
# =============================================================================
DEBUG_MODE=false                                # Mode debug
VERBOSE_DOCKER=false                            # Logs Docker détaillés
KEEP_CONTAINERS=false                           # Garder les containers pour debug
SIMULATE_INFECTIONS=false                       # Mode simulation (tests)